** start of index.html **

<!DOCTYPE html>
<html lang="en">

<head>
    <title>Customer Complaint Form</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <h1>Complaint Form</h1>
    <form id="form">
        <fieldset id="personal-info">
            <div>
                <label for="full-name">Full Name:</label>
                <input type="text" id="full-name" name="full-name" placeholder="John Doe">
            </div>

            <div>
                <label for="email">Email Address:</label>
                <input type="email" id="email" name="email" placeholder="example@domain.com">
            </div>
        </fieldset>
        <hr>
        <fieldset id="product-info">
            <div>
                <label for="order-no">Order No:</label>
                <input type="text" id="order-no" name="order-no" placeholder="2024######">
            </div>
            <div>
                <label for="product-code">Product Code:</label>
                <input type="text" id="product-code" name="product-code" placeholder="XX##-X###-XX#">
            </div>
            <div>
                <label for="quantity">Quantity:</label>
                <input type="number" id="quantity" name="quantity" min="1">
            </div>
        </fieldset>

        <fieldset id="complaints-group">
            <legend>Complaint Reason:</legend>
            <div>
                <input type="checkbox" id="damaged-product" name="complaint" value="damaged-product">
                <label for="damaged-product">Damaged Product</label>
            </div>

            <div>
                <input type="checkbox" id="nonconforming-product" name="complaint" value="nonconforming-product">
                <label for="nonconforming-product">Nonconforming Product</label>
            </div>

            <div>
                <input type="checkbox" id="delayed-dispatch" name="complaint" value="delayed-dispatch">
                <label for="delayed-dispatch">Delayed Dispatch</label>
            </div>

            <div>
                <input type="checkbox" id="other-complaint" name="complaint" value="other">
                <label for="other-complaint">Other</label>
            </div>
        </fieldset>

        <fieldset id="complaint-description-container">
            <legend>Description of Complaint Reason</legend>
            <textarea placeholder="Describe the reason of your complaint in at least 20 characters"
                name="complaint-textarea" id="complaint-description"></textarea>
        </fieldset>

        <fieldset id="solutions-group">
            <legend>Desired Solution</legend>
            <input type="radio" name="solutions" id="refund" value="refund">
            <label for="refund">Refund</label>

            <input type="radio" name="solutions" id="exchange" value="exchange">
            <label for="exchange">Exchange</label>

            <input type="radio" name="solutions" id="other-solution" value="other">
            <label for="other-solution">Other</label>
        </fieldset>

        <fieldset id="solution-description-container">
            <legend>Description of Desired Solution</legend>
            <textarea placeholder="Describe the desired solution to your issue in at least 20 characters"
                name="solution-textarea" id="solution-description"></textarea>
        </fieldset>
        <div id="btn-container">
            <button type="submit" id="submit-btn">Submit</button>
            <span id="message-box" aria-live="polite"></span>
        </div>

    </form>

    <script src="script.js"></script>
</body>

</html>

** end of index.html **

** start of styles.css **

* {
    box-sizing: border-box;
}

h1 {
    text-align: center;
}

#form {
    max-width: 70%;
    margin: auto;
    border-radius: 10px;
    box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
    padding: 10px;
}

input {
    border-color: rgb(118, 118, 118);
}

#personal-info input, #product-info input {
    width: 100%;
    margin-bottom: 10px;
}


fieldset {
    margin-bottom: 10px;
    border-radius: 5px;
    border-color: rgb(118, 118, 118);
}

textarea {
    width: 100%;
    border-color: rgb(118, 118, 118);
}

#btn-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

#submit-btn, #clear-btn {
    margin: 10px 15px 0;
}

** end of styles.css **

** start of script.js **

const form = document.querySelector('#form')
const formInputs = document.querySelectorAll('input')
const fullName = document.querySelector('#full-name')
const email = document.querySelector('#email')
const orderNo = document.querySelector('#order-no')
const productCode = document.querySelector('#product-code')
const quantity = document.querySelector('#quantity')
const complaintsGroup = document.querySelector('#complaints-group')

const complaintDescription = document.querySelector('#complaint-description')
const solutionsGroup = document.querySelector('#solutions-group')
const solutionDescription = document.querySelector('#solution-description')
const submitBtn = document.querySelector('#submit-btn')
const body = document.querySelector('body')

function validateForm(){
  
  const validationResults = {}

  if (fullName.value.trim()=== "") {
    validationResults["full-name"] = false
  } else {
    validationResults["full-name"] = true
  }; // Name Checking

  let emailRegex = /@.+\./
  if (!emailRegex.test(email.value)) {
    validationResults["email"] = false
  } else {
    validationResults["email"] = true
  }; // Email Checking
  
  let orderRegex = /^2024\d{6}$/
  if (!orderRegex.test(orderNo.value)) {
    validationResults["order-no"] = false
  } else {
    validationResults["order-no"] = true
  };

  let productRegex = /^[a-zA-Z]{2}\d{2}-[a-zA-Z]\d{3}-[a-zA-Z]{2}\d$/
  if (!productRegex.test(productCode.value)) {
    validationResults["product-code"] = false
  } else {
    validationResults["product-code"] = true
  };

  const num = Number(quantity.value)
  if (num <= 0  || !Number.isInteger(num)) {
    validationResults["quantity"] = false
  } else {
    validationResults["quantity"] = true
  };

const complaintsBoxes = complaintsGroup.querySelector('input[type="checkbox"]:checked')
console.log(complaintsBoxes)
  if (complaintsBoxes === null) {
    validationResults["complaints-group"] = false
  } else {
    validationResults["complaints-group"] = true
  }

  const otherComplaint = complaintsGroup.querySelector('#other-complaint:checked')
const complaintDescRegex = /.{20,}/ 
 if (otherComplaint) { 
 
  validationResults["complaint-description"] = complaintDescRegex.test(complaintDescription.value)
  }
 
  const checkBtn = solutionsGroup.querySelector('input[type="radio"]:checked') 
 if (!checkBtn) {
   validationResults["solutions-group"] = false
 } else {
   validationResults["solutions-group"] = true
 }
 
  const otherCheckBtn = solutionsGroup.querySelector('#other-solution:checked')
 if (otherCheckBtn) {
   validationResults["solution-description"] = complaintDescRegex.test(solutionDescription.value)
 }

   return validationResults
}



validateForm()

function isValid(validationResults){
  return Object.values(validationResults).every(input => input === true)
}

form.addEventListener('change', (e)=> {
  const getValidationResults = validateForm()
  let fieldKey = e.target.name || e.target.id

  if (e.target.name === 'complaint') {
     fieldKey = 'complaints-group'
  }
  else if (e.target.name === 'solutions') {
    fieldKey = 'solutions-group'
  } else {
    fieldKey = e.target.id;
  }
 
  if (getValidationResults[fieldKey]){
   e.target.style.borderColor = 'green'
    } else {
      e.target.style.borderColor = 'red'
    
  }

})

const complaint = complaintsGroup.querySelectorAll('input')

complaint.forEach(complaint => {
  complaint.addEventListener('change', ()=> {
    const checkedComplaint = complaintsGroup.querySelector('input:checked')
    if (checkedComplaint) {
      complaintsGroup.style.borderColor = "green"
    } else {
      complaintsGroup.style.borderColor = "red"
    }
  })
})



form.addEventListener('submit', e => {
  e.preventDefault()
 
const checkValidityObject = validateForm()
  if (!isValid(checkValidityObject)) {
    for (let key in checkValidityObject) {
      if (!checkValidityObject[key]) {
        
        const element = document.querySelector(`#${key}`)

        if (element) {
          element.style.borderColor = "red"
        }
      }
    }
      alert('Please fix the errors in the form')


  }
}) 

const radioBtns = solutionsGroup.querySelectorAll('input')

radioBtns.forEach(btn => {
  btn.addEventListener('change', ()=> {
    const checkedBtn = solutionsGroup.querySelector('input:checked')
    const validationForm = validateForm()
    if (!checkedBtn) {
      solutionsGroup.style.borderColor = 'red'
      return;
    } 
       if (checkedBtn.id === "other-solution") {
         if (validationForm["solution-description"] === true) {
           solutionsGroup.style.borderColor = "green"
         } else {
           solutionsGroup.style.borderColor = 'red'
         }
       } else {
      solutionsGroup.style.borderColor = 'green'
    }
    
  })
})

solutionDescription.addEventListener('input', () => {
  const formValidation = validateForm()
  const inputChecked = solutionsGroup.querySelector('input:checked')
  if (inputChecked && inputChecked.value === 'other') {
    if (formValidation["solution-description"] === true) {
        solutionDescription.parentElement.style.borderColor = 'green'
        solutionsGroup.style.borderColor = 'green'
    }else {
    solutionsGroup.style.borderColor = 'red'
    solutionDescription.parentElement.style.borderColor = 'red'
  }
      
  } 
} )



** end of script.js **

